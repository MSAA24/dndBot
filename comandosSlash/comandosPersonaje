const { SlashCommandBuilder } = require('@discordjs/builders');
const { crearPersonaje } = require('../controllers/personajeController.js');

const comandosPersonaje = [
    {
        data: new SlashCommandBuilder()
            .setName('crearpersonaje')
            .setDescription('Crea un personaje en el sistema')
            .addStringOption(option => 
                option.setName('nombre')
                    .setDescription('Nombre del personaje')
                    .setRequired(true))
            .addStringOption(option => 
                option.setName('raza')
                    .setDescription('Raza del personaje')
                    .setRequired(true))
            .addStringOption(option => 
                option.setName('clase')
                    .setDescription('Clase del personaje')
                    .setRequired(true))
            .addIntegerOption(option => 
                option.setName('nivel')
                    .setDescription('Nivel del personaje')
                    .setRequired(true)),
        async execute(interaction) {
            const nombre = interaction.options.getString('nombre');
            const raza = interaction.options.getString('raza');
            const clase = interaction.options.getString('clase');
            const nivel = interaction.options.getInteger('nivel');
            
            await crearPersonaje(interaction.user.id, nombre, raza, clase, nivel);
            await interaction.reply(`Personaje **${nombre}** creado con Ã©xito!`);
        }
    }
];

module.exports = comandosPersonaje;